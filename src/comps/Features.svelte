<script>
  export let windowWidth;
  export let content;
</script>

<section>
  <div class="container">
    <div class="intro">
      <h2>{content.headline}</h2>
      <p>{content.paragraph}</p>
    </div>

    <div class="content">
      <div class="svg-lines">
        <svg
          width={windowWidth >= 1024 ? "975" : "725"}
          height="1200"
          viewBox="0 0 1211 1361"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g filter="url(#filter0_d)">
            <path
              d="M331 2C346.5 82 424 113 558 82C558 82 460 167.5 509 232C558 296.5 475.5 325 475.5 325M310 434.5C237.75 390.519 213.5 493.5 213.5 493.5C213.5 493.5 58.1858 522.986 90.5 578"
              stroke="#193A72"
              stroke-opacity="0.5"
              stroke-width="2.5"
            />
          </g>
          <g filter="url(#filter1_d)">
            <path
              d="M7 786C38.5312 842.512 35.1632 886.164 88 878C137.391 870.368 118.885 812.474 78 842C37.1153 871.526 8.99998 894 25.5 926C42 958 71.5 982 71.5 982"
              stroke="#193A72"
              stroke-opacity="0.5"
              stroke-width="2.5"
            />
          </g>
          <g filter="url(#filter2_d)">
            <path
              d="M279 1171C318.084 1250.62 355.237 1263.26 465 1194.5C464.176 1274.21 487.884 1285.39 540.5 1291M1099 1338C1167.5 1387.5 1162.5 1291 1207.5 1305"
              stroke="#193A72"
              stroke-opacity="0.5"
              stroke-width="2.5"
            />
          </g>
          <g clip-path="url(#clip0)">
            <path
              d="M366.087 94.4158L372.2 97.6289L389.009 82.0288L401.101 88.7009C403.31 89.9198 405.792 88.9653 406.604 86.5848C407.416 84.2045 406.24 81.3271 403.998 80.2063L391.723 74.0706L389.048 48.2297L382.935 45.0166L380.448 68.4348L367.813 62.1196L366.194 55.4873L360.669 52.5831L361.58 62.9193L354.967 69.3009L360.492 72.205L365.456 69.033L377.902 75.9003L366.087 94.4158Z"
              fill="#E6E6E6"
            />
            <path
              d="M366.087 94.416L372.2 97.6291L389.008 82.029L401.1 88.701C403.309 89.9199 405.792 88.9655 406.604 86.585L361.579 62.9195L354.967 69.3011L360.492 72.2052L365.456 69.0332L377.901 75.9005L366.087 94.416Z"
              fill="#CCCCCC"
            />
          </g>
          <g clip-path="url(#clip1)">
            <path
              d="M199.788 455.252L196.767 461.463L212.884 477.776L206.592 490.07C205.443 492.316 206.474 494.768 208.879 495.505C211.284 496.242 214.123 494.977 215.173 492.701L220.923 480.24L246.668 476.76L249.688 470.55L226.204 468.795L232.122 455.97L238.7 454.144L241.431 448.531L231.128 449.764L224.543 443.354L221.813 448.967L225.138 453.829L218.663 466.483L199.788 455.252Z"
              fill="#E6E6E6"
            />
            <path
              d="M199.787 455.252L196.767 461.462L212.884 477.776L206.592 490.07C205.443 492.316 206.474 494.768 208.879 495.505L231.128 449.764L224.543 443.354L221.813 448.967L225.138 453.829L218.662 466.483L199.787 455.252Z"
              fill="#CCCCCC"
            />
          </g>
          <g clip-path="url(#clip2)">
            <path
              d="M3.9015 936.993L7.1664 943.079L29.8282 939.568L36.1093 951.868C37.2568 954.115 39.8479 954.715 41.8536 953.197C43.8593 951.68 44.4968 948.638 43.2667 946.453L36.5336 934.495L48.7896 911.589L45.5247 905.503L30.3491 923.512L23.419 911.204L25.7915 904.802L22.8406 899.302L17.8066 908.375L8.75434 909.959L11.7053 915.459L17.5938 915.611L24.0587 928.271L3.9015 936.993Z"
              fill="#E6E6E6"
            />
            <path
              d="M3.9013 936.993L7.16619 943.079L29.828 939.568L36.1091 951.868C37.2566 954.115 39.8477 954.715 41.8534 953.197L17.8064 908.375L8.75414 909.959L11.7051 915.459L17.5936 915.611L24.0585 928.271L3.9013 936.993Z"
              fill="#CCCCCC"
            />
          </g>
          <g clip-path="url(#clip3)">
            <path
              d="M410.078 1252.78L416.191 1249.57L412.875 1226.88L425.228 1220.7C427.485 1219.57 428.107 1216.99 426.606 1214.97C425.106 1212.95 422.07 1212.29 419.875 1213.5L407.86 1220.13L385.059 1207.67L378.946 1210.89L396.823 1226.22L384.457 1233.04L378.076 1230.61L372.55 1233.52L381.58 1238.63L383.086 1247.69L388.611 1244.79L388.814 1238.9L401.528 1232.55L410.078 1252.78Z"
              fill="#E6E6E6"
            />
            <path
              d="M410.078 1252.78L416.191 1249.57L412.875 1226.88L425.228 1220.7C427.485 1219.57 428.107 1216.99 426.606 1214.97L381.58 1238.63L383.086 1247.69L388.611 1244.79L388.814 1238.9L401.528 1232.55L410.078 1252.78Z"
              fill="#CCCCCC"
            />
          </g>
          <g clip-path="url(#clip4)">
            <path
              d="M1214.58 1323.28L1220.69 1320.07L1217.37 1297.38L1229.73 1291.2C1231.98 1290.07 1232.61 1287.49 1231.11 1285.47C1229.61 1283.45 1226.57 1282.79 1224.37 1284L1212.36 1290.63L1189.56 1278.17L1183.45 1281.39L1201.32 1296.72L1188.96 1303.54L1182.58 1301.11L1177.05 1304.02L1186.08 1309.13L1187.59 1318.19L1193.11 1315.29L1193.31 1309.4L1206.03 1303.05L1214.58 1323.28Z"
              fill="#E6E6E6"
            />
            <path
              d="M1214.58 1323.28L1220.69 1320.07L1217.37 1297.38L1229.73 1291.2C1231.98 1290.07 1232.61 1287.49 1231.11 1285.47L1186.08 1309.13L1187.59 1318.19L1193.11 1315.29L1193.31 1309.4L1206.03 1303.05L1214.58 1323.28Z"
              fill="#CCCCCC"
            />
          </g>
          <defs>
            <filter
              id="filter0_d"
              x="80.826"
              y="0.762238"
              width="481.996"
              height="584.871"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              />
              <feOffset dy="3" />
              <feGaussianBlur stdDeviation="2" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.0980392 0 0 0 0 0.227451 0 0 0 0 0.447059 0 0 0 0.2 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow"
                result="shape"
              />
            </filter>
            <filter
              id="filter1_d"
              x="1.90839"
              y="784.391"
              width="121.018"
              height="205.578"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              />
              <feOffset dy="3" />
              <feGaussianBlur stdDeviation="2" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.0980392 0 0 0 0 0.227451 0 0 0 0 0.447059 0 0 0 0.2 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow"
                result="shape"
              />
            </filter>
            <filter
              id="filter2_d"
              x="273.878"
              y="1169.45"
              width="937.993"
              height="191.048"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              />
              <feOffset dy="3" />
              <feGaussianBlur stdDeviation="2" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.0980392 0 0 0 0 0.227451 0 0 0 0 0.447059 0 0 0 0.2 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow"
                result="shape"
              />
            </filter>
            <clipPath id="clip0">
              <rect
                width="50"
                height="42.783"
                fill="white"
                transform="translate(389.745 41) rotate(68.2795)"
              />
            </clipPath>
            <clipPath id="clip1">
              <rect
                width="50"
                height="42.783"
                fill="white"
                transform="matrix(-0.916999 0.398891 -0.398889 -0.916999 253.916 477.232)"
              />
            </clipPath>
            <clipPath id="clip2">
              <rect
                width="50"
                height="42.783"
                fill="white"
                transform="matrix(-0.213686 0.976902 -0.976901 -0.213692 53.4166 905.99)"
              />
            </clipPath>
            <clipPath id="clip3">
              <rect
                width="50"
                height="42.783"
                fill="white"
                transform="matrix(0.975035 0.222051 -0.222059 0.975033 379.5 1203)"
              />
            </clipPath>
            <clipPath id="clip4">
              <rect
                width="50"
                height="42.783"
                fill="white"
                transform="matrix(0.975033 0.222057 -0.222053 0.975035 1184 1273.5)"
              />
            </clipPath>
          </defs>
        </svg>
      </div>

      {#each content.features as feature, i}
        <div
          class="content-single"
          style="margin-bottom: {!feature.image && 0}px"
        >
          <div class="image">
            <img src={feature.image} alt="" />
          </div>

          <h3>
            <span class="bg-color" />
            <span class="number">
              <span>{i + 1}</span>
              <img src="/img/bg_features_number.png" alt="" />
            </span>
            <span class="title">
              {feature.title}
            </span>
          </h3>
          <p>{feature.details}</p>
        </div>
      {/each}
    </div>

    <div class="footer">
      <p>{content.footer}</p>

      <button>Voir les destinations servies</button>
    </div>
  </div>
</section>

<style>
  .container {
    padding: 6rem 2rem;
  }

  .intro {
    text-align: center;
    padding-bottom: 3rem;
  }

  .intro h2 {
    margin-bottom: 2rem;
    padding: 0 1rem;
  }

  .intro p {
    padding: 0 1rem;
  }

  .content-single {
    margin-bottom: 4rem;
  }

  .content-single .number {
    display: inline-block;
    position: absolute;
    top: 0;
    left: 0;
    margin-top: -1rem;
  }

  .content-single h3 {
    position: relative;
    padding: 0.75rem 0.5rem 0.75rem 2rem;
    margin-bottom: 2rem;
  }

  .content-single h3 .bg-color {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: #e4e7ee;
    filter: blur(5px);
    z-index: 0;
  }

  .content-single .number span {
    position: absolute;
    top: 12%;
    left: 36%;
    color: white;
    font-weight: bold;
    font-size: 0.9rem;
  }

  .content-single h3 .title {
    z-index: 1;
    position: relative;
  }

  .content-single .image {
    display: flex;
    justify-content: flex-end;
    padding: 1rem 0;
  }

  .content {
    border-bottom: 2.5px dashed #ebebeb;
  }

  .content .svg-lines {
    display: none;
  }

  .footer {
    padding: 5rem 0rem 10rem 0rem;
    text-align: center;
  }

  .footer button {
    background-color: #001944;
    color: white;
    text-align: center;
    border-radius: 0.5rem;
    border: none;
    padding: 0.5rem 1.5rem;
    margin-top: 3rem;
  }

  /* 786px and Higher devices */

  @media (min-width: 768px) {
    .container {
      overflow: hidden;
    }

    .content {
      border-bottom: none;
      width: min-content;
      margin-top: 3rem;
      margin-left: auto;
      margin-right: auto;
      position: relative;
      /* padding: 3rem 0; */
    }

    .content-single h3 {
      padding: 0.25rem 0.5rem 0.25rem 2rem;
      margin-bottom: 0.75rem;
    }

    .content .svg-lines {
      display: block;
      min-width: min-content;
    }

    .content-single:nth-of-type(2) {
      position: absolute;
      top: 0;
      left: 0;
      width: 25rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
    }

    .content-single:nth-of-type(3) {
      position: absolute;
      top: 10rem;
      right: 0;
      width: 20rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-right: 1rem;
    }

    .content-single:nth-of-type(3) .image {
      position: absolute;
      top: 10%;
      right: 100%;
      /* margin-top: -3rem; */
      margin-right: 10rem;
    }

    .content-single:nth-of-type(4) {
      position: absolute;
      top: 20.5rem;
      right: 0;
      width: 20rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-right: 8.5rem;
    }

    .content-single:nth-of-type(5) {
      position: absolute;
      top: 30.5rem;
      left: 0;
      width: 20rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-right: 20rem;
    }

    .content-single:nth-of-type(5) .image {
      position: absolute;
      top: 20%;
      left: 100%;
      /* margin-top: -3rem; */
      margin-left: 5rem;
    }

    .content-single:nth-of-type(6) {
      position: absolute;
      top: 40rem;
      left: 0;
      width: 25rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-left: 4rem;
    }

    .content-single:nth-of-type(7) {
      position: absolute;
      top: 45rem;
      left: 0;
      width: 16rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-left: 19.5rem;
    }

    .footer {
      padding: 4rem 0rem 0rem 0rem;
      text-align: center;
    }
  }

  /* 1024px and Higher devices */

  @media (min-width: 1024px) {
    .content-single:nth-of-type(2) {
      position: absolute;
      top: 0;
      left: 0;
      width: 25rem;
      margin-bottom: 0;
      margin-top: -6rem;
    }

    .content-single:nth-of-type(3) {
      position: absolute;
      top: 3rem;
      right: 0;
      width: 20rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-right: 8rem;
    }

    .content-single:nth-of-type(3) .image {
      position: absolute;
      top: 35%;
      right: 100%;
      /* margin-top: -3rem; */
      margin-right: 13rem;
      transform: scale(1.2);
    }

    .content-single:nth-of-type(4) {
      position: absolute;
      top: 18rem;
      right: 0;
      width: 20rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-right: 17rem;
    }

    .content-single:nth-of-type(5) {
      position: absolute;
      top: 30.5rem;
      left: 0;
      width: 20rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-right: 20rem;
    }

    .content-single:nth-of-type(5) .image {
      position: absolute;
      top: 0;
      left: 100%;
      margin-top: -3rem;
      margin-left: 20rem;
      transform: scale(2);
    }

    .content-single:nth-of-type(6) {
      position: absolute;
      top: 46rem;
      left: 0;
      width: 25rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-left: 5rem;
    }

    .content-single:nth-of-type(7) {
      position: absolute;
      top: 47rem;
      left: 0;
      width: 23rem;
      margin-bottom: 0;
      /* margin-top: -3rem; */
      margin-left: 27rem;
    }

    .content-single:nth-of-type(7) .image {
      transform: scale(1.2);
    }

    .footer {
      padding: 4rem 10rem 0rem 10rem;
      text-align: center;
    }
  }
</style>
